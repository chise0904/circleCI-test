version: 2.1


jobs:
  job1:
    docker:
      - image: circleci/golang:1.12

    steps:
      - run: 
        name: pre checkout
        command: |
          pwd
          ls -al
      - checkout
      - run:
          name: Post checkout
          command:  |
            pwd
            ls -al
  job2:
    docker:
      - image: circleci/golang:1.12

    steps:
      - run: 
        name: job2 command
        command: |
          pwd
          ls -al
  job3:
    docker:
      - image: circleci/golang:1.12

    steps:
      - run: 
        name: job3 command
        command: |
          pwd
          ls -al
  job4:
    docker:
      - image: circleci/golang:1.12

    steps:
      - run: 
        name: job4 command
        command: |
          pwd
          ls -al

workflow:
  flow1:
    jobs:
      - job2
      - job1
      - job4
      - job3
      
  flow2:
    jobs:
      - job2
        filter:
          branches:
            only:
              - main
              - dev
              - hotfix
      - job1
      - job4
      - job3

  flow3:
    jobs:
      - job2
      - job1
        requires:
          - job2
      - job4
        requires:
          - job2
      - job3
        requires:
          - job1
          - job2
          - job4

  flow4:
    jobs:
      - job2
      - job1
      - job4
      - job3







